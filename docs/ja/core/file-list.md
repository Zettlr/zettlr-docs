# ファイルリスト

次は、ファイルリストです。ファイルリストは、数多くのファイルやディレクトリを扱いやすくするための、強力な機能を担っているため、非常に特別な機能と言えます。

## 概要

サイドバーモードがextendedの場合、ツリービューとファイル一覧が両方とも表示されます。thinモードの場合、リストの表示を`Cmd/Ctrl+!`で、いつでも切り替えることができます。

> **注意**: サイドバーモードについての詳細は、[設定のマニュアル](../reference/settings.md)をご覧ください。

ファイルリストは、ツリービューで選択中のディレクトリ内にあるすべてのディレクトリとファイルを表示します。しかし、通常のファイルブラウザとは異なり、**ファイルリストは、すべてのサブディレクトリを同列に扱い、一列に並べて表示します。**そのため、深い階層を探すためにディレクトリツリーをたどる必要がありません。

ファイル情報を非表示に設定した場合、ディレクトリもファイルも、それぞれ1行で表示されます。ファイル情報を表示するように設定すると、追加の情報が表示されます。ディレクトリの場合は、含まれる子要素の数、ファイルの場合は、最終更新日時が表示されます。ファイルがIDやタグを含んでいる場合、更新日時の後にそれらの情報が表示されます。タグのカウンターにマウスカーソルを乗せると、ファイル内のすべてのタグが小さなツールチップに表示されます。

> ファイル情報の表示/非表示は、「表示」メニューから選択するか、`Cmd/Ctrl+Alt+S`を押下するか、または、設定ダイアログの「一般」タブから切り替えることができます。

### ファイルのメタ情報

ファイルリストのファイルに表示される追加情報は、いくつかの点において役立ちます。まず、ファイルのIDが正しい形式かどうかを、一目で確認することができます。Zettlrは誤ったIDを検出してしまうことがあります。しかし、ここを見れば、Zettlrが本物のIDを使っているか、それともURLに含まれる単なる数字の列を使ってしまっているかを確認することができます。さらに、タグの数字にマウスカーソルを合わせると、ツールチップでタグを確認することができます。

![ファイルのメタ情報](../img/file_meta.png)

### 執筆目標

バージョン`1.2`以降のZettlrには、執筆目標の機能があります。目標を設定するには、ファイルを右クリックし、「執筆目標を設定...」を選択します。目標とする単語数または文字数を入力して、「設定」をクリックします。ファイル情報の表示をオンにしている場合、Zettlrは目標に向けた進捗状況をカウントし、小さなインジケーターで表示します。そこに、マウスカーソルを合わせると、執筆済みの単語数または文字数が表示されます。

![執筆目標カウンター](../img/writing_targets.png)

> 執筆目標を削除するには、カウンターをゼロに設定してください。

![執筆目標の設定](../img/writing_targets_settings.png)

### 並べ替え

ディレクトリの並べ替えは、ファイルリストから行うことができます。ディレクトリにマウスカーソルを合わせると、現在の並べ替えの状態を表す2つのインジケーターが表示されます。一つ目の(AからZに向かう矢印)のインジケーターをクリックすると、名前で並べ替えることができます。2つ目は最終更新日時で並べ替えを行います。このとき、サブディレクトリは並べ替えず、ファイルのみを並べ替えます。

![並べ替えインジケーター](../img/sorting_indicators.png)

ディレクトリツリー上のディレクトリをクリックしてファイルを探すこともできます。普通のクリックはディレクトリを選択、`Alt`を押しながらクリックで、親ディレクトリを選択します。これは、ディレクトリを頻繁に切り替えるけれど、サイドバーをthinモードで使っていて、何度もツリービューに切り替えたくない場合に便利です。

## 構造的な意味合い

ツリービューでディレクトリを選択すると、そのディレクトリに含まれる**すべての**ファイルとディレクトリがファイルリストに表示されます。簡単に言えば、サブディレクトリとファイルを平坦化して、ディレクトリリストのようなツリー状の構造から、一次元のリストに変換します。そのリストの内容は、ツリービューで異なるディレクトリを選択するたびに更新されます。

> リストに表示されるのは、現在選択しているディレクトリに*含まれる*、*すべての*ディレクトリとファイルです。つまりそれは、高速な検索機能のように機能します。表示されるのは、特定のディレクトリに含まれるファイルのみです。そして、深い階層のディレクトリを選択していくごとに、表示されるファイルが少なくなっていきます。ルート以下に適切な構造を用意すれば、これは、実際に必要なファイルのみをリストに表示させるための有力な方法となります。

ファイルリストは、複雑なディレクトリツリーを平坦化するため、ファイルを適切に*表示する*方法について、いくつかの仮定をしています。そのため、ファイルの実際のディスク上での場所を特定するのに、以下のルールが役立つでしょう:

1. 現在選択しているディレクトリは常に一番上に表示されます。
2. ディレクトリ内のファイルは、ディレクトリ名のすぐ下に表示されます。
3. ディレクトリ内のサブディレクトリは、ファイルリストの一番下に表示されます。つまり、現在選択しているディレクトリのファイルの後です。
4. ディレクトリが空の場合、それらは、間にファイルを置かずに、すぐ後に並べて表示されます。

覚えておくべき重要なことは、すべてのディレクトリが入れ子にならず、まったく同じ階層に置かれているように表示されるということです。どのディレクトリがどこに含まれるかを区別したい場合は、ツリービューを参照してください。

> Zettlrの「自然な」並べ替え(2の後に10が来る)が気に入らない場合は、設定ダイアログの一般タブで、「ASCII」順の並べ替え(10の後に2が来る)に設定することもできます。

## ファイルリストでの操作

リストを使った操作は数多くあります。まず、ファイルのタイルを選択すると、ファイルを開き、その内容をエディターに表示します。ディレクトリをクリックすると、それを選択します。

ファイルを他の場所に移動することもできます。ファイルリストから、ディレクトリツリー上のディレクトリへドラッグするだけです。マウスカーソルが当たったディレクトリには、ファイルの移動先であることを表す、わずかな輝きが表示されます。そこに、ファイルをドロップするとファイルを移動します。どこか他の場所にドロップすると、移動をキャンセルし、ファイルを元の位置に戻します。

ファイルをアプリケーションの外にドロップすると、他のプログラムにファイルを共有することができます。この、外部へのドラッグをキャンセルするには、マウスカーソルを再びアプリケーション内部に戻しから離してください。

> ファイルを他のアプリケーションにドロップする場合、**`Ctrl`キーか、`Alt`キーを押しながら、ドラッグを開始してください。**そうすると、Zettlr内部でのファイル移動ではなく、外部にドロップするということをZettlrに伝えることができます。

## 検索ヒートマップ

これ以外に、ファイルリストには、検索結果の関連度を見分けるための便利な機能があります。検索を実行すると、ファイルリストの色がカメレオンのように変わります。すべてのファイルを50段階の緑色で塗り分けます。緑が明るいほど、より検索結果に関連したファイルです。

これは、全文検索の「ヒートマップ」と呼ばれることもある機能です。

ファイルリストは、アプリの操作状況に応じて表示が変わることを忘れないでください。例えば、検索モードの時は、選択中のディレクトリのすべてのファイルとディレクトリを表示するのではなく、プレビューリストから、検索結果に合致しないファイルを除いて表示します。
